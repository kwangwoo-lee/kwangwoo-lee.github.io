<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Reader for Kids</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Quicksand:wght@500;700&display=swap');
        
        body {
            font-family: 'Quicksand', 'Noto Sans KR', sans-serif;
            background-color: #F4F7FE;
            color: #2D3748;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* Ïû†Í∏à ÌôîÎ©¥ Ïä§ÌÉÄÏùº */
        #lock-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #5E56E7;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            transition: opacity 0.5s ease;
        }

        .pin-input-container {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            text-align: center;
            width: 90%;
            max-width: 320px;
        }

        .pin-input {
            width: 100%;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            padding: 12px;
            font-size: 24px;
            text-align: center;
            letter-spacing: 10px;
            color: #5E56E7;
            margin: 20px 0;
            outline: none;
        }

        .pin-input:focus {
            border-color: #5E56E7;
        }

        .btn-unlock {
            background-color: #10B981;
            color: white;
            font-weight: bold;
            padding: 12px 24px;
            border-radius: 12px;
            width: 100%;
            border: none;
            box-shadow: 0 4px 0 #059669;
            cursor: pointer;
        }

        .btn-unlock:active {
            box-shadow: none;
            transform: translateY(2px);
        }

        /* Î≥∏Î¨∏ Ïª®ÌÖåÏù¥ÎÑà (Ï≤òÏùåÏóî Ïà®ÍπÄ) */
        .mobile-container {
            display: none;
            width: 100%;
            max-width: 500px;
            min-height: 100vh;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            flex-direction: column;
        }

        header {
            background-color: #5E56E7;
            padding: 20px;
            color: white;
            text-align: center;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .score-badge {
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            display: inline-block;
            margin-top: 5px;
        }

        .sentence-row {
            margin: 15px;
            padding: 18px;
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
            transition: transform 0.2s;
        }

        .sentence-row:active {
            transform: scale(0.98);
            background: #F8FAFC;
        }

        .word {
            cursor: pointer;
            padding: 1px 4px;
            margin: 0 1px;
            border-bottom: 2px solid #5E56E7;
            color: #1A365D;
            font-weight: 700;
        }

        .btn-translate {
            background-color: #10B981;
            color: white;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 0.85rem;
            margin-bottom: 12px;
            border: none;
            box-shadow: 0 4px 0 #059669;
        }

        .translation {
            display: none;
            color: #4A5568;
            font-size: 1rem;
            margin-top: 12px;
            padding: 12px;
            background: #F1F5F9;
            border-radius: 12px;
            border-left: 4px solid #5E56E7;
        }

        .translation.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #dictionary-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            width: 80%;
            max-width: 320px;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(2px);
            z-index: 999;
        }

        .progress-container {
            height: 6px;
            background: #E2E8F0;
            width: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }

        .progress-bar {
            height: 100%;
            background: #FFD600;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>

    <!-- Ïû†Í∏à ÌôîÎ©¥ -->
    <div id="lock-screen">
        <div class="pin-input-container">
            <h2 class="text-xl font-bold text-slate-800 mb-2">Password Required</h2>
            <p class="text-sm text-slate-500 mb-4">PIN Î≤àÌò∏ 4ÏûêÎ¶¨Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</p>
            <input type="password" id="pin-input" class="pin-input" maxlength="4" placeholder="****" inputmode="numeric">
            <button onclick="checkPin()" class="btn-unlock">ÌïôÏäµ ÏãúÏûëÌïòÍ∏∞</button>
            <p id="error-msg" class="text-red-500 text-xs mt-3 invisible">PIN Î≤àÌò∏Í∞Ä ÌãÄÎ†∏ÏäµÎãàÎã§.</p>
        </div>
    </div>

    <!-- Î≥∏Î¨∏ ÎÇ¥Ïö© -->
    <div class="mobile-container" id="main-content">
        <header>
            <div class="text-xs font-bold tracking-widest opacity-80 uppercase">Reading Master üöÄ</div>
            <h1 class="text-xl font-bold mt-1">A Healthy Relationship</h1>
            <div class="score-badge" id="progress-text">0 / 18 Î¨∏Ïû• ÏùΩÏùå</div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </header>

        <main id="story-container" class="pb-10 pt-4">
            <!-- Î¨∏Ïû• ÏÇΩÏûÖ ÏòÅÏó≠ -->
        </main>
        
        <footer class="text-center p-6 text-slate-400 text-xs">
            Îã®Ïñ¥Î•º ÎàÑÎ•¥Î©¥ ÎúªÏù¥ Î≥¥Ïó¨Ïöî!<br>
            Î¨∏Ïû•ÏùÑ ÎàÑÎ•¥Î©¥ Î≤àÏó≠Ïù¥ ÎÇòÏôÄÏöî!
        </footer>
    </div>

    <div id="overlay" class="overlay"></div>
    <div id="dictionary-modal">
        <h3 id="dict-word" class="text-2xl font-bold text-indigo-600 mb-2"></h3>
        <p id="dict-meaning" class="text-xl text-slate-700"></p>
        <button onclick="closeDict()" class="mt-6 bg-indigo-50 px-6 py-2 rounded-full text-sm font-bold text-indigo-600 border border-indigo-100">ÌôïÏù∏</button>
    </div>

    <script>
        const PIN_CODE = "3154";

        function checkPin() {
            const input = document.getElementById('pin-input').value;
            const errorMsg = document.getElementById('error-msg');
            
            if (input === PIN_CODE) {
                document.getElementById('lock-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('lock-screen').style.display = 'none';
                    document.getElementById('main-content').style.display = 'flex';
                }, 500);
            } else {
                errorMsg.classList.remove('invisible');
                document.getElementById('pin-input').value = "";
                document.getElementById('pin-input').focus();
            }
        }

        // ÏóîÌÑ∞ÌÇ§ ÏßÄÏõê
        document.getElementById('pin-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkPin();
        });

        const storyData = [
            { en: "A Healthy Relationship", ko: "Í±¥Í∞ïÌïú Í¥ÄÍ≥Ñ" },
            { en: "Why do we have friends?", ko: "Ïôú Ïö∞Î¶¨Îäî ÏπúÍµ¨Î•º ÏÇ¨Í∑àÍπåÏöî?" },
            { en: "They are nice to have a conversation with.", ko: "ÏπúÍµ¨Îäî Ìï®Íªò ÎåÄÌôîÎ•º ÎÇòÎàå Ïàò ÏûàÎäî Ï¢ãÏùÄ Ï°¥Ïû¨ÏûÖÎãàÎã§." },
            { en: "They certainly make good company when you want to go to a movie theater or go shopping.", ko: "ÏòÅÌôîÍ¥ÄÏóê Í∞ÄÍ±∞ÎÇò ÏáºÌïëÏùÑ ÌïòÍ≥† Ïã∂ÏùÑ Îïå Í∑∏Îì§ÏùÄ ÌôïÏã§Ìûà Ï¢ãÏùÄ ÎèôÎ∞òÏûêÍ∞Ä ÎêòÏñ¥ Ï§çÎãàÎã§." },
            { en: "Many of us have friends simply because they are fun.", ko: "Ïö∞Î¶¨ Ï§ë ÎßéÏùÄ ÏÇ¨ÎûåÎì§ÏùÄ Îã®ÏàúÌûà ÏπúÍµ¨Í∞Ä Ïû¨ÎØ∏ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê ÏπúÍµ¨Î•º ÏÇ¨Í∑ïÎãàÎã§." },
            { en: "But did you ever consider that friends might actually be good for your health?", ko: "ÌïòÏßÄÎßå ÏπúÍµ¨Í∞Ä Ïã§Ï†úÎ°ú Ïö∞Î¶¨Ïùò Í±¥Í∞ïÏóê Ï¢ãÏùÑÏßÄÎèÑ Î™®Î•∏Îã§Í≥† ÏÉùÍ∞ÅÌï¥ Î≥∏ Ï†ÅÏù¥ ÏûàÎÇòÏöî?" },
            { en: "One study proved that they are.", ko: "Ìïú Ïó∞Íµ¨Îäî Í∑∏Í≤ÉÏù¥ ÏÇ¨Ïã§ÏûÑÏùÑ Ï¶ùÎ™ÖÌñàÏäµÎãàÎã§." },
            { en: "Australian scientists surveyed 1,500 individuals over a ten-year period.", ko: "Ìò∏Ï£ºÏùò Í≥ºÌïôÏûêÎì§ÏùÄ 10ÎÖÑÏóê Í±∏Ï≥ê 1,500Î™ÖÏùÑ ÎåÄÏÉÅÏúºÎ°ú ÏÑ§Î¨∏ Ï°∞ÏÇ¨Î•º ÌñàÏäµÎãàÎã§." },
            { en: "They asked them how many friends they had and how often they met them.", ko: "Í∑∏Îì§ÏùÄ ÏπúÍµ¨Í∞Ä Î™á Î™ÖÏù∏ÏßÄ, Í∑∏Î¶¨Í≥† ÏñºÎßàÎÇò ÏûêÏ£º ÎßåÎÇòÎäîÏßÄÎ•º Î¨ºÏóàÏäµÎãàÎã§." },
            { en: "After observing them for ten years, the scientists found that the people who had more friends and met them more often actually lived longer.", ko: "10ÎÖÑ ÎèôÏïà Í∑∏Îì§ÏùÑ Í¥ÄÏ∞∞Ìïú ÌõÑ, Í≥ºÌïôÏûêÎì§ÏùÄ ÏπúÍµ¨Í∞Ä Îçî ÎßéÍ≥† ÏûêÏ£º ÎßåÎÇòÎäî ÏÇ¨ÎûåÎì§Ïù¥ Ïã§Ï†úÎ°ú Îçî Ïò§Îûò ÏÇ∞Îã§Îäî ÏÇ¨Ïã§ÏùÑ Î∞úÍ≤¨ÌñàÏäµÎãàÎã§." },
            { en: "In fact, the people who had the most friends lived 22 percent longer than those who had the fewest friends.", ko: "ÏÇ¨Ïã§, Í∞ÄÏû• ÎßéÏùÄ ÏπúÍµ¨Î•º Í∞ÄÏßÑ ÏÇ¨ÎûåÎì§ÏùÄ ÏπúÍµ¨Í∞Ä Í∞ÄÏû• Ï†ÅÏùÄ ÏÇ¨ÎûåÎì§Î≥¥Îã§ 22% Îçî Ïò§Îûò ÏÇ¥ÏïòÏäµÎãàÎã§." },
            { en: "How do friends improve our health?", ko: "Í∑∏Î†áÎã§Î©¥ ÏπúÍµ¨Îäî Ïñ¥ÎñªÍ≤å Ïö∞Î¶¨Ïùò Í±¥Í∞ïÏùÑ Ï¶ùÏßÑÏãúÌÇ¨ÍπåÏöî?" },
            { en: "The Australian scientists said there are probably two main ways.", ko: "Ìò∏Ï£ºÏùò Í≥ºÌïôÏûêÎì§ÏùÄ ÏïÑÎßàÎèÑ Îëê Í∞ÄÏßÄ Ï£ºÏöî Î∞©Î≤ïÏù¥ ÏûàÎã§Í≥† ÎßêÌñàÏäµÎãàÎã§." },
            { en: "First of all, friends help us take better care of our bodies.", ko: "Ï≤´Ïß∏, ÏπúÍµ¨Îäî Ïö∞Î¶¨Í∞Ä Ïö∞Î¶¨ Î™∏ÏùÑ Îçî Ïûò ÎèåÎ≥¥ÎèÑÎ°ù ÎèÑÏôÄÏ§çÎãàÎã§." },
            { en: "We usually get more exercise when we spend time with friends.", ko: "Ïö∞Î¶¨Îäî ÏπúÍµ¨Îì§Í≥º ÏãúÍ∞ÑÏùÑ Î≥¥ÎÇº Îïå Î≥¥ÌÜµ Îçî ÎßéÏùÄ Ïö¥ÎèôÏùÑ ÌïòÍ≤å Îê©ÎãàÎã§." },
            { en: "Also, even if we are just a little sick, a friend might pressure us to visit a doctor.", ko: "ÎòêÌïú Ïö∞Î¶¨Í∞Ä Ï°∞Í∏àÏù¥ÎùºÎèÑ ÏïÑÌîÑÎ©¥, ÏπúÍµ¨Îäî Ïö∞Î¶¨Í∞Ä ÏùòÏÇ¨Î•º Î∞©Î¨∏ÌïòÎèÑÎ°ù Îã§Í∑∏Ïπ† ÏàòÎèÑ ÏûàÏäµÎãàÎã§." },
            { en: "Secondly, friends improve our mental health.", ko: "ÎëòÏß∏, ÏπúÍµ¨Îäî Ïö∞Î¶¨Ïùò Ï†ïÏã†Ï†ÅÏù∏ Í±¥Í∞ïÏùÑ Ìñ•ÏÉÅÏãúÌÇµÎãàÎã§." },
            { en: "They can help us get through difficult times in our lives.", ko: "ÏπúÍµ¨Îäî Ïö∞Î¶¨Í∞Ä Ïù∏ÏÉùÏóêÏÑú Ïñ¥Î†§Ïö¥ ÏãúÍ∏∞Î•º Ìó§Ï≥ê ÎÇòÍ∞ÄÎèÑÎ°ù ÎèÑÏôÄÏ§Ñ Ïàò ÏûàÏäµÎãàÎã§." },
            { en: "Also, when we are feeling down or lonely, our friends can help cheer us up.", ko: "ÎòêÌïú Ïö∞Î¶¨Í∞Ä Ïö∞Ïö∏ÌïòÍ±∞ÎÇò Ïô∏Î°úÏõÄÏùÑ ÎäêÎÇÑ Îïå, ÏπúÍµ¨Îäî Ïö∞Î¶¨Î•º Í∏∞Ïö¥ ÎÇòÍ≤å Ìï¥ Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§." },
            { en: "In the long run, all of the little things friends do for us add up.", ko: "Í≤∞Íµ≠, ÏπúÍµ¨Îì§Ïù¥ Ïö∞Î¶¨Î•º ÏúÑÌï¥ Ìï¥ Ï£ºÎäî Î™®Îì† ÏûëÏùÄ ÏùºÎì§ÏùÄ ÌïòÎÇòÌïòÎÇò Î™®Ïó¨ ÌÅ∞ ÏòÅÌñ•ÏùÑ Ï§çÎãàÎã§." },
            { en: "According to the study, they also add years to our lives.", ko: "Í∑∏ Ïó∞Íµ¨Ïóê Îî∞Î•¥Î©¥, Í∑∏Í≤ÉÎì§ÏùÄ Ïö∞Î¶¨Ïùò ÏàòÎ™ÖÏóêÎèÑ Î™á ÎÖÑÏùÑ ÎçîÌï¥ Ï§çÎãàÎã§." },
            { en: "So, next time you see a close friend, be sure to thank him or her for making you a healthier person.", ko: "Í∑∏Îü¨Îãà Îã§ÏùåÏóê Í∞ÄÍπåÏö¥ ÏπúÍµ¨Î•º Î≥¥Í≤å ÎêòÎ©¥, ÎãπÏã†ÏùÑ Îçî Í±¥Í∞ïÌïú ÏÇ¨ÎûåÏúºÎ°ú ÎßåÎì§Ïñ¥ Ï§Ä Í≤ÉÏóê ÎåÄÌï¥ Î∞òÎìúÏãú Í≥†ÎßàÏõÄÏùÑ ÌëúÌòÑÌïòÏÑ∏Ïöî." }
        ];

        const dictionary = {
            "relationship": "Í¥ÄÍ≥Ñ",
            "conversation": "ÎåÄÌôî",
            "certainly": "ÌôïÏã§Ìûà",
            "company": "ÎèôÎ∞òÏûê, Ìï®Íªò ÏûàÏùå",
            "consider": "ÏÉùÍ∞ÅÌïòÎã§, Í≥†Î†§ÌïòÎã§",
            "proved": "Ï¶ùÎ™ÖÌñàÎã§",
            "surveyed": "ÏÑ§Î¨∏ Ï°∞ÏÇ¨ÌñàÎã§",
            "individuals": "Í∞úÏù∏Îì§",
            "observing": "Í¥ÄÏ∞∞ÌïòÎäî",
            "percent": "ÌçºÏÑºÌä∏(%)",
            "fewest": "Í∞ÄÏû• Ï†ÅÏùÄ",
            "improve": "Ï¶ùÏßÑÏãúÌÇ§Îã§",
            "pressure": "Îã§Í∑∏ÏπòÎã§, ÏïïÎ∞ïÌïòÎã§",
            "mental": "Ï†ïÏã†Ï†ÅÏù∏",
            "lonely": "Ïô∏Î°úÏö¥",
            "cheer": "Í∏∞Ïö¥ÏùÑ Î∂ÅÎèãÏö∞Îã§",
            "healthier": "Îçî Í±¥Í∞ïÌïú"
        };

        const container = document.getElementById('story-container');
        const modal = document.getElementById('dictionary-modal');
        const overlay = document.getElementById('overlay');
        const dictWord = document.getElementById('dict-word');
        const dictMeaning = document.getElementById('dict-meaning');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        let readCount = new Set();

        storyData.forEach((item, index) => {
            const row = document.createElement('div');
            row.className = 'sentence-row';
            
            const transBtn = document.createElement('button');
            transBtn.className = 'btn-translate';
            transBtn.textContent = 'Î≤àÏó≠ ÌôïÏù∏';
            
            const enPara = document.createElement('p');
            enPara.className = 'text-xl md:text-2xl font-bold leading-relaxed text-slate-800 mb-1';
            
            const words = item.en.split(' ');
            words.forEach(wordStr => {
                const cleanWord = wordStr.toLowerCase().replace(/[.,‚Äú‚Äù!?]/g, '');
                const span = document.createElement('span');
                span.className = 'word';
                span.textContent = wordStr + ' ';
                
                if (dictionary[cleanWord]) {
                    span.onclick = (e) => {
                        e.stopPropagation();
                        showDict(cleanWord, dictionary[cleanWord]);
                    };
                }
                enPara.appendChild(span);
            });

            const koPara = document.createElement('p');
            koPara.className = 'translation';
            koPara.textContent = item.ko;

            row.onclick = () => {
                const isActive = koPara.classList.toggle('active');
                if (isActive) {
                    readCount.add(index);
                    updateProgress();
                }
            };

            row.appendChild(transBtn);
            row.appendChild(enPara);
            row.appendChild(koPara);
            container.appendChild(row);
        });

        function updateProgress() {
            const percent = (readCount.size / storyData.length) * 100;
            progressBar.style.width = percent + '%';
            progressText.textContent = `${readCount.size} / ${storyData.length} Î¨∏Ïû• ÏùΩÏùå`;
        }

        function showDict(word, meaning) {
            dictWord.textContent = word.toUpperCase();
            dictMeaning.textContent = meaning;
            modal.style.display = 'block';
            overlay.style.display = 'block';
        }

        function closeDict() {
            modal.style.display = 'none';
            overlay.style.display = 'none';
        }

        overlay.onclick = closeDict;
    </script>
</body>
</html>
