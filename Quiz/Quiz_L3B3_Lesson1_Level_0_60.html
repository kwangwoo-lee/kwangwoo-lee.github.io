<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Reader for Kids</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Quicksand:wght@500;700&display=swap');
        
        body {
            font-family: 'Quicksand', 'Noto Sans KR', sans-serif;
            background-color: #F4F7FE;
            color: #2D3748;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* Ïû†Í∏à ÌôîÎ©¥ Ïä§ÌÉÄÏùº */
        #lock-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #5E56E7;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            transition: opacity 0.5s ease;
        }

        .pin-input-container {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            text-align: center;
            width: 90%;
            max-width: 320px;
        }

        .pin-input {
            width: 100%;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            padding: 12px;
            font-size: 24px;
            text-align: center;
            letter-spacing: 10px;
            color: #5E56E7;
            margin: 20px 0;
            outline: none;
        }

        .pin-input:focus {
            border-color: #5E56E7;
        }

        .btn-unlock {
            background-color: #10B981;
            color: white;
            font-weight: bold;
            padding: 12px 24px;
            border-radius: 12px;
            width: 100%;
            border: none;
            box-shadow: 0 4px 0 #059669;
            cursor: pointer;
        }

        .btn-unlock:active {
            box-shadow: none;
            transform: translateY(2px);
        }

        /* Î≥∏Î¨∏ Ïª®ÌÖåÏù¥ÎÑà (Ï≤òÏùåÏóî Ïà®ÍπÄ) */
        .mobile-container {
            display: none;
            width: 100%;
            max-width: 500px;
            min-height: 100vh;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            flex-direction: column;
        }

        header {
            background-color: #5E56E7;
            padding: 20px;
            color: white;
            text-align: center;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .score-badge {
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            display: inline-block;
            margin-top: 5px;
        }

        .sentence-row {
            margin: 15px;
            padding: 18px;
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
            transition: transform 0.2s;
        }

        .sentence-row:active {
            transform: scale(0.98);
            background: #F8FAFC;
        }

        .word {
            cursor: pointer;
            padding: 1px 4px;
            margin: 0 1px;
            border-bottom: 2px solid #5E56E7;
            color: #1A365D;
            font-weight: 700;
        }

        .btn-translate {
            background-color: #10B981;
            color: white;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 0.85rem;
            margin-bottom: 12px;
            border: none;
            box-shadow: 0 4px 0 #059669;
        }

        .translation {
            display: none;
            color: #4A5568;
            font-size: 1rem;
            margin-top: 12px;
            padding: 12px;
            background: #F1F5F9;
            border-radius: 12px;
            border-left: 4px solid #5E56E7;
        }

        .translation.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #dictionary-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            width: 80%;
            max-width: 320px;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(2px);
            z-index: 999;
        }

        .progress-container {
            height: 6px;
            background: #E2E8F0;
            width: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }

        .progress-bar {
            height: 100%;
            background: #FFD600;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>

    <!-- Ïû†Í∏à ÌôîÎ©¥ -->
    <div id="lock-screen">
        <div class="pin-input-container">
            <h2 class="text-xl font-bold text-slate-800 mb-2">Password Required</h2>
            <p class="text-sm text-slate-500 mb-4">PIN Î≤àÌò∏ 4ÏûêÎ¶¨Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</p>
            <input type="password" id="pin-input" class="pin-input" maxlength="4" placeholder="****" inputmode="numeric">
            <button onclick="checkPin()" class="btn-unlock">ÌïôÏäµ ÏãúÏûëÌïòÍ∏∞</button>
            <p id="error-msg" class="text-red-500 text-xs mt-3 invisible">PIN Î≤àÌò∏Í∞Ä ÌãÄÎ†∏ÏäµÎãàÎã§.</p>
        </div>
    </div>

    <!-- Î≥∏Î¨∏ ÎÇ¥Ïö© -->
    <div class="mobile-container" id="main-content">
        <header>
            <div class="text-xs font-bold tracking-widest opacity-80 uppercase">Reading Master üöÄ</div>
            <h1 class="text-xl font-bold mt-1">Dexter's Magnet</h1>
            <div class="score-badge" id="progress-text">0 / 17 Î¨∏Ïû• ÏùΩÏùå</div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </header>

        <main id="story-container" class="pb-10 pt-4">
            <!-- Î¨∏Ïû• ÏÇΩÏûÖ ÏòÅÏó≠ -->
        </main>
        
        <footer class="text-center p-6 text-slate-400 text-xs">
            Îã®Ïñ¥Î•º ÎàÑÎ•¥Î©¥ ÎúªÏù¥ Î≥¥Ïó¨Ïöî!<br>
            Î¨∏Ïû•ÏùÑ ÎàÑÎ•¥Î©¥ Î≤àÏó≠Ïù¥ ÎÇòÏôÄÏöî!
        </footer>
    </div>

    <div id="overlay" class="overlay"></div>
    <div id="dictionary-modal">
        <h3 id="dict-word" class="text-2xl font-bold text-indigo-600 mb-2"></h3>
        <p id="dict-meaning" class="text-xl text-slate-700"></p>
        <button onclick="closeDict()" class="mt-6 bg-indigo-50 px-6 py-2 rounded-full text-sm font-bold text-indigo-600 border border-indigo-100">ÌôïÏù∏</button>
    </div>

    <script>
        const PIN_CODE = "3154";

        function checkPin() {
            const input = document.getElementById('pin-input').value;
            const errorMsg = document.getElementById('error-msg');
            
            if (input === PIN_CODE) {
                document.getElementById('lock-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('lock-screen').style.display = 'none';
                    document.getElementById('main-content').style.display = 'flex';
                }, 500);
            } else {
                errorMsg.classList.remove('invisible');
                document.getElementById('pin-input').value = "";
                document.getElementById('pin-input').focus();
            }
        }

        // ÏóîÌÑ∞ÌÇ§ ÏßÄÏõê
        document.getElementById('pin-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkPin();
        });

        const storyData = [
            { en: "‚ÄúDexter, I need another screw like this,‚Äù Dad called from the kitchen. ‚ÄúAnd take Lana.‚Äù", ko: "‚ÄúÎç±Ïä§ÌÑ∞, Ïù¥Îü∞ ÎÇòÏÇ¨ ÌïòÎÇòÍ∞Ä Îçî ÌïÑÏöîÌïòÍµ¨ÎÇò,‚Äù ÏïÑÎπ†Í∞Ä Ï£ºÎ∞©ÏóêÏÑú Î∂ÄÎ•¥ÏÖ®Ïñ¥Ïöî. ‚ÄúÎùºÎÇòÎèÑ Îç∞Î†§Í∞ÄÎ†¥.‚Äù" },
            { en: "Dexter took the screw from Dad and led his little sister outside to the toolshed.", ko: "Îç±Ïä§ÌÑ∞Îäî ÏïÑÎπ†ÏóêÍ≤å ÎÇòÏÇ¨Î•º Î∞õÏïÑ Ïñ¥Î¶∞ Ïó¨ÎèôÏÉùÏùÑ Îç∞Î¶¨Í≥† Î∞îÍπ• Í≥µÍµ¨ Ï∞ΩÍ≥†Î°ú Ìñ•ÌñàÏñ¥Ïöî." },
            { en: "Inside, Dexter checked a drawer marked ‚ÄúScrews,‚Äù where he found a magnet with several screws stuck to it.", ko: "Í∑∏ ÏïàÏóêÏÑú Îç±Ïä§ÌÑ∞Îäî ‚ÄòÎÇòÏÇ¨‚ÄôÎùºÍ≥† Ï†ÅÌûå ÏÑúÎûçÏùÑ ÌôïÏù∏ÌñàÍ≥†, Í∑∏Í≥≥ÏóêÏÑú Ïó¨Îü¨ Í∞úÏùò ÎÇòÏÇ¨Í∞Ä Î∂ôÏñ¥ ÏûàÎäî ÏûêÏÑùÏùÑ Î∞úÍ≤¨ÌñàÏñ¥Ïöî." },
            { en: "Dexter reached for the screw Dad had given him but only found a hole in his pocket.", ko: "Îç±Ïä§ÌÑ∞Îäî ÏïÑÎπ†Í∞Ä Ï£ºÏã† ÎÇòÏÇ¨Î•º Ï∞æÏúºÎ†§Í≥† ÏÜêÏùÑ ÎªóÏóàÏßÄÎßå, Ï£ºÎ®∏ÎãàÏóê Íµ¨Î©çÏù¥ ÎÇú Í≤ÉÏùÑ Î∞úÍ≤¨ÌñàÏùÑ ÎøêÏù¥ÏóàÏ£†." },
            { en: "‚ÄúWhat‚Äôs that?‚Äù Lana asked, wide-eyed.", ko: "‚ÄúÏ†ÄÍ≤å Î≠êÏïº?‚Äù ÎùºÎÇòÍ∞Ä ÎààÏùÑ ÌÅ¨Í≤å Îú®Í≥† Î¨ºÏóàÏñ¥Ïöî." },
            { en: "‚ÄúIt‚Äôs a magnet, silly,‚Äù Dexter laughed. Then, he realized she had probably never seen one before.", ko: "‚ÄúÏûêÏÑùÏù¥Ïïº, Î∞îÎ≥¥Ïïº,‚Äù Îç±Ïä§ÌÑ∞Í∞Ä ÏõÉÏúºÎ©∞ ÎßêÌñàÏñ¥Ïöî. Í∑∏Îü¨Îã§ Í∑∏Îäî ÎùºÎÇòÍ∞Ä ÏïÑÎßà Ïù¥Ï†ÑÏóê ÏûêÏÑùÏùÑ Î≥∏ Ï†ÅÏù¥ ÏóÜÏùÑ Í±∞ÎùºÎäî Í±∏ Íπ®Îã¨ÏïòÏ£†." },
            { en: "‚ÄúHow does it work?‚Äù Lana asked.", ko: "‚ÄúÏù¥Í±¥ Ïñ¥ÎñªÍ≤å ÏûëÎèôÌïòÎäî Í±∞Ïïº?‚Äù ÎùºÎÇòÍ∞Ä Î¨ºÏóàÏñ¥Ïöî." },
            { en: "Dexter explained that magnets attract some materials, like iron, but not others.", ko: "Îç±Ïä§ÌÑ∞Îäî ÏûêÏÑùÏù¥ Ï≤† Í∞ôÏùÄ Ïñ¥Îñ§ Î¨ºÏßàÏùÄ ÎÅåÏñ¥ÎãπÍ∏∞ÏßÄÎßå, Îã§Î•∏ Í≤ÉÎì§ÏùÄ Í∑∏Î†áÏßÄ ÏïäÎã§Îäî Í≤ÉÏùÑ ÏÑ§Î™ÖÌï¥ Ï£ºÏóàÏñ¥Ïöî." },
            { en: "He showed her that a rubber band wouldn‚Äôt stick to the magnet.", ko: "Í∑∏Îäî Í≥†Î¨¥Ï§ÑÏùÄ ÏûêÏÑùÏóê Î∂ôÏßÄ ÏïäÎäîÎã§Îäî Í≤ÉÏùÑ Î≥¥Ïó¨Ï£ºÏóàÏ£†." },
            { en: "Lana joyfully opened more drawers, sweeping the magnet above them to see what stuck.", ko: "ÎùºÎÇòÎäî Ï¶êÍ≤ÅÍ≤å Îçî ÎßéÏùÄ ÏÑúÎûçÏùÑ Ïó¥Ïñ¥Î≥¥Í≥†, Î¨¥ÏóáÏù¥ Î∂ôÎäîÏßÄ Î≥¥Î†§Í≥† Í∑∏ ÏúÑÎ°ú ÏûêÏÑùÏùÑ ÌõëÏúºÎ©∞ ÏßÄÎÇòÍ∞îÏñ¥Ïöî." },
            { en: "‚ÄúWhat‚Äôs taking so long?‚Äù Dad called from the house.", ko: "‚ÄúÏôú Ïù¥Î†áÍ≤å Ïò§Îûò Í±∏Î¶¨Îãà?‚Äù ÏïÑÎπ†Í∞Ä ÏßëÏóêÏÑú Î∂ÄÎ•¥ÏÖ®Ïñ¥Ïöî." },
            { en: "Dexter picked up the screws with the magnet and went inside.", ko: "Îç±Ïä§ÌÑ∞Îäî ÏûêÏÑùÏúºÎ°ú ÎÇòÏÇ¨Îì§ÏùÑ ÏßëÏñ¥ Îì§Í≥† ÏïàÏúºÎ°ú Îì§Ïñ¥Í∞îÏñ¥Ïöî." },
            { en: "Dad frowned at the screws.", ko: "ÏïÑÎπ†Îäî ÎÇòÏÇ¨Îì§ÏùÑ Î≥¥Î©∞ ÎààÏÇ¥ÏùÑ Ï∞åÌë∏Î¶¨ÏÖ®Ïñ¥Ïöî." },
            { en: "‚ÄúThere‚Äôs only one that‚Äôs the right size,‚Äù Dad said. ‚ÄúWhere‚Äôs the one I gave you?‚Äù", ko: "‚ÄúÎßûÎäî ÌÅ¨Í∏∞Îäî ÌïòÎÇòÎøêÏù¥Íµ¨ÎÇò,‚Äù ÏïÑÎπ†Í∞Ä ÎßêÏîÄÌïòÏÖ®Ïñ¥Ïöî. ‚ÄúÎÇ¥Í∞Ä Ï§Ä Í±¥ Ïñ¥Îîî ÏûàÎãà?‚Äù" },
            { en: "While Dexter explained, Lana took the magnet and retraced their steps.", ko: "Îç±Ïä§ÌÑ∞Í∞Ä ÏÑ§Î™ÖÌïòÎäî ÎèôÏïà, ÎùºÎÇòÎäî ÏûêÏÑùÏùÑ Îì§Í≥† Í∑∏Îì§Ïù¥ ÏôîÎçò Í∏∏ÏùÑ Îã§Ïãú Îî∞ÎùºÍ∞îÏñ¥Ïöî." },
            { en: "Outside, she crawled toward the shed, sweeping the magnet from side to side.", ko: "Î∞ñÏóêÏÑú Í∑∏ÎÖÄÎäî Ï∞ΩÍ≥†Î•º Ìñ•Ìï¥ Í∏∞Ïñ¥Í∞ÄÎ©∞ ÏûêÏÑùÏùÑ ÏñëÏòÜÏúºÎ°ú ÌõëÏóàÏñ¥Ïöî." },
            { en: "‚ÄúI found it!‚Äù she said, holding up the magnet with the missing screw.", ko: "‚ÄúÏ∞æÏïòÎã§!‚Äù Í∑∏ÎÖÄÎäî ÏûÉÏñ¥Î≤ÑÎ†∏Îçò ÎÇòÏÇ¨Í∞Ä Î∂ôÏùÄ ÏûêÏÑùÏùÑ Îì§Ïñ¥ Ïò¨Î¶¨Î©∞ ÎßêÌñàÏñ¥Ïöî." }
        ];

        const dictionary = {
            "screw": "ÎÇòÏÇ¨", "toolshed": "Í≥µÍµ¨ Ï∞ΩÍ≥†", "magnet": "ÏûêÏÑù", "drawer": "ÏÑúÎûç",
            "stuck": "Î∂ôÏñ¥ ÏûàÎäî", "wide-eyed": "ÎààÏùÑ ÌÅ¨Í≤å Îú¨", "realized": "Íπ®Îã¨ÏïòÎã§",
            "attract": "ÎÅåÏñ¥ÎãπÍ∏∞Îã§", "materials": "Î¨ºÏßà, Ïû¨Î£å", "iron": "Ï≤†",
            "sweeping": "ÌõëÎã§", "frowned": "Ï∞åÌë∏Î¶¨Îã§", "retraced": "ÎêòÏßöÏñ¥Í∞ÄÎã§",
            "crawled": "Í∏∞Ïñ¥Í∞îÎã§", "missing": "ÏûÉÏñ¥Î≤ÑÎ¶∞"
        };

        const container = document.getElementById('story-container');
        const modal = document.getElementById('dictionary-modal');
        const overlay = document.getElementById('overlay');
        const dictWord = document.getElementById('dict-word');
        const dictMeaning = document.getElementById('dict-meaning');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        let readCount = new Set();

        storyData.forEach((item, index) => {
            const row = document.createElement('div');
            row.className = 'sentence-row';
            
            const transBtn = document.createElement('button');
            transBtn.className = 'btn-translate';
            transBtn.textContent = 'Î≤àÏó≠ ÌôïÏù∏';
            
            const enPara = document.createElement('p');
            enPara.className = 'text-xl md:text-2xl font-bold leading-relaxed text-slate-800 mb-1';
            
            const words = item.en.split(' ');
            words.forEach(wordStr => {
                const cleanWord = wordStr.toLowerCase().replace(/[.,‚Äú‚Äù!?]/g, '');
                const span = document.createElement('span');
                span.className = 'word';
                span.textContent = wordStr + ' ';
                
                if (dictionary[cleanWord]) {
                    span.onclick = (e) => {
                        e.stopPropagation();
                        showDict(cleanWord, dictionary[cleanWord]);
                    };
                }
                enPara.appendChild(span);
            });

            const koPara = document.createElement('p');
            koPara.className = 'translation';
            koPara.textContent = item.ko;

            row.onclick = () => {
                const isActive = koPara.classList.toggle('active');
                if (isActive) {
                    readCount.add(index);
                    updateProgress();
                }
            };

            row.appendChild(transBtn);
            row.appendChild(enPara);
            row.appendChild(koPara);
            container.appendChild(row);
        });

        function updateProgress() {
            const percent = (readCount.size / storyData.length) * 100;
            progressBar.style.width = percent + '%';
            progressText.textContent = `${readCount.size} / ${storyData.length} Î¨∏Ïû• ÏùΩÏùå`;
        }

        function showDict(word, meaning) {
            dictWord.textContent = word.toUpperCase();
            dictMeaning.textContent = meaning;
            modal.style.display = 'block';
            overlay.style.display = 'block';
        }

        function closeDict() {
            modal.style.display = 'none';
            overlay.style.display = 'none';
        }

        overlay.onclick = closeDict;
    </script>
</body>
</html>
